#								SNDINFO makef
# macros defined in toplevel csound/makefile
#	CFLAGS INCLUDE LIB DEST

INCLUDE	= @includedir@
LIB	= @datadir@
DEST	= @bindir@
CFLAGS  = @CFLAGS@ @XCFLAGS@ $(DEFINES)
LIBS    = @WINLDFLAGS@ @X_LIBS@ @LIBS@

T = ../..
INC = ../../H

OBJS =  sndinfo_main.@OBJEXT@ $T/sndinfo.@OBJEXT@ \
	$T/sfheader.@OBJEXT@ $T/libsnd_u.@OBJEXT@ $T/natben.@OBJEXT@ \
	$T/memalloc.@OBJEXT@ $T/memfiles.@OBJEXT@ $T/getstring.@OBJEXT@

sndinfos:	sndinfo

sndinfo:	$(OBJS)
		@CC@ $(CFLAGS) -o sndinfo $(OBJS) -lm

sndinfo_main.@OBJEXT@:		sndinfo_main.c $(INC)/ustub.h
		@CC@ -I $(INC) $(CFLAGS) -c sndinfo_main.c

install: 	sndinfo
		-strip sndinfo
		-rm -f $(DEST)/sndinfo
		cp sndinfo $(DEST)

clean:
		-rm -f sndinfo main.@OBJEXT@

rmbak:
		-rm *.bak *~
