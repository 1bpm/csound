#								scale Makef
# macros passed from csound/Makefile
#	CFLAGS INCLUDE LIB DEST

INCLUDE	= @includedir@
LIB	= @datadir@
DEST	= @bindir@
CFLAGS  = @CFLAGS@ @XCFLAGS@ $(DEFINES)
LIBS    = @WINLDFLAGS@ @X_LIBS@ @LIBS@

OBJS =	$T/sndinfo.@OBJEXT@ $T/filopen.@OBJEXT@ $T/sfheader.@OBJEXT@ \
	$T/libsnd_u.@OBJEXT@ $T/libsnd.@OBJEXT@ $T/memalloc.@OBJEXT@ \
	$T/getstring.@OBJEXT@ $T/rtpa.@OBJEXT@ $T/natben.@OBJEXT@

T = ../..

INC = ../../H

scale:	scale.@OBJEXT@ $(OBJS) 
	@CC@ $(CFLAGS) scale.@OBJEXT@ $(OBJS) -lportaudio -lsndfile -lm -o scale

scale.@OBJEXT@:	scale.c $(INC)/ustub.h
	@CC@ $(CFLAGS) -c -I$(INC) scale.c

install:	scale
	-strip scale
	rm -f $(DEST)/scale
	cp scale $(DEST)

clean:		rmbak
	-rm scale *.@OBJEXT@

rmbak:
	-rm *.bak *~
