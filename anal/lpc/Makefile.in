#								LPC makef
# macros defined in toplevel csound/makefile
#	CFLAGS INCLUDE LIB DEST

INCLUDE	= @includedir@
LIB	= @datadir@
DEST	= @bindir@
CFLAGS = @CFLAGS@ @XCFLAGS@ $(DEFINES)
LIBS    = @WINLDFLAGS@ @X_LIBS@ @LIBS@

T = ../..
INC = ../../H

OBJS =  lpc_main.@OBJEXT@ $T/lpanal.@OBJEXT@ $T/lptrkfns.@OBJEXT@ \
	$T/filopen.@OBJEXT@ $T/sfheader.@OBJEXT@ $T/soundin.@OBJEXT@ \
	$T/aiff.@OBJEXT@ $T/wave.@OBJEXT@ $T/ieee80.@OBJEXT@ \
        $T/memalloc.@OBJEXT@ $T/window.@OBJEXT@ $T/winFLTK.@OBJEXT@ \
	$T/winascii.@OBJEXT@ $T/winEPS.@OBJEXT@ $T/aifc.@OBJEXT@ \
	$T/getstring.@OBJEXT@ $T/FL_graph.@OBJEXT@

lpcs:		lpanal

lpanal:		$(OBJS)
		@CC@ $(CFLAGS) -o lpanal $(OBJS) $(LIBS)

lpc_main.@OBJEXT@:		lpc_main.c $(INC)/ustub.h $(INC)/cs.h
		@CC@ -I $(INC) $(CFLAGS) -c lpc_main.c

install:	lpanal
		-strip lpanal
		-rm -f $(DEST)/lpanal
		cp lpanal $(DEST)

clean:
		-rm -f lpanal lpc_main.@OBJEXT@

rmbak:
		-rm *.bak *~
